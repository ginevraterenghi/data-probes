/* Navigation Styles - Mobile First */

.title-header {
    padding: 16px;
    width: 100%;
    box-sizing: border-box;
    margin-bottom: 1rem;
}

/* Ensure title header is visible in the menu */
/* header.navigation-header .title-header {
    display: block;
    margin-bottom: 1rem;
} */

.mobile-menu-title {
    display: none;
}

header.navigation-header {
    display: flex;
    flex-direction: column;
    width: 100%;
    padding: 16px; 
    box-sizing: border-box; 
    /* Mobile Active State Logic is complex with classes, handled below */
    position: sticky;
    top: 0;
    z-index: 999;
    background-color: transparent; 
}

/* Mobile Active State */
header.navigation-header.active {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    height: 100svh; 
    height: 100dvh;
    overflow-y: auto;
    background-color: white;
    box-sizing: border-box;
    /* Grid template rows from line 227 in menu.css mobile query */
    /* "grid-template-rows: 1fr;" ? header is flex column. */
}

header.navigation-header.active .mobile-menu-title {
    display: block;
    margin-bottom: 16px;
}

h1.page-title {
    margin: 0; 
    font-family: 'Helvetica', 'Arial', sans-serif;
    font-weight: 200; 
    display: flex; 
    flex-direction: column;
    gap: 4px;
}

h1.page-title .title {
    font-size: 24px;
    line-height: 1.2;
}

h1.page-title .subtitle {
    font-size: 16px;
    color: #666;
}

/* Navigation List - Mobile */
ul.navigation-list {
    list-style: none;
    margin: 0; 
    padding: 0; 
    display: grid;
    /* Mobile Grid */
    grid-template-columns: 1fr; 
    grid-template-rows: 1fr;
    row-gap: 16px;
    column-gap: 16px;
    margin-top: 0px; 
    width: 100%;
    box-sizing: border-box;
}

header.navigation-header.active ul.navigation-list {
    grid-template-columns: 1fr; 
    grid-template-rows: repeat(3, 1fr);
    row-gap: 16px;
    width: 100%;
}

li.navigation-item {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    width: 100%;
    box-sizing: border-box;
}

li.navigation-item a.text-menu-special {
    font-family: ABCCamera-Regular;
    font-size: 28px;
    font-weight: 200;
    color: #000;
    text-decoration: none;
}

/* Expand Button - Visible on Mobile */
li.navigation-item .expand-button {
    font-family: 'Helvetica', 'Arial', sans-serif;
    font-size: 28px;
    font-weight: 200;
    color: #000;
    text-decoration: none;
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    margin: 0;
    display: flex; /* Mobile default */
    align-items: center;
    justify-content: center;
}

/* Grid Items Placement - Mobile */
#home {
    grid-column: 1;
    grid-row: 1;
}

#physical-variables {
    grid-column: 1;
    grid-row: 2;
}

#thesis {
    grid-column: 1;
    grid-row: 3;
    justify-content: flex-start;
}

/* Impressum - Mobile */
.impressum {
    display: flex;
    flex-direction: column;
    gap: 8px;
    padding: 16px;
    width: 100%;
    box-sizing: border-box;
    font-family: 'Helvetica', 'Arial', sans-serif;
    font-size: 14px;
    font-weight: 200;
    margin-top: 0;
    margin-bottom: 2rem;
}

/* Hiding parts in Header Impressum on Mobile */
header.navigation-header .impressum {
    display: none;
    margin-top: auto;
    margin-bottom: 0;
}

header.navigation-header.active .impressum {
    display: flex !important;
    flex-direction: column;
    gap: 4px;
    font-family: 'Helvetica', 'Arial', sans-serif;
    font-size: 16px;
    font-weight: 200;
    color: #000;
    text-decoration: none;
    margin-top: auto;
    padding: 16px;
    padding-bottom: 32px;
}

header.navigation-header.active .impressum .supervisors {
    display: none;
}

/* Text Menu Special visibility */
.text-menu-special.mobile {
    display: contents;
}

.text-menu-special.desktop {
    display: none;
}

.text-menu {
    font-family: SuisseIntl-Light;
    font-size: 20px;
}

nav {
    display: flex;
    flex-wrap: wrap;
    padding: 0; 
    box-sizing: border-box;
    width: 100%;
    backdrop-filter: blur(0);
    z-index: 999;
    position: static;
}

nav a {
    font-family: SuisseIntl-Light, sans-serif;
    font-size: 20px;
    color: #000;
    text-decoration: none;
    display: inline-block;
    vertical-align: baseline;
    transition: filter 0.3s ease;
}

.blur-text a {
    filter: blur(2px);
}

nav a:hover {
    filter: blur(0);
}

/* Active Header logic for hiding items on mobile */
header.navigation-header #thesis,
header.navigation-header #physical-variables {
    display: none; /* Hidden by default on mobile unless active? Line 230 in menu.css says they are hidden */
}

header.navigation-header.active #thesis,
header.navigation-header.active #physical-variables {
    display: block;
}


/* DESKTOP STYLES */
@media (min-width: 769px) {
    
    /* Navigation List - Desktop */
    ul.navigation-list {
        grid-template-columns: repeat(5, 1fr); 
        grid-template-rows: auto; /* Reset rows */
        margin-top: 0px; 
    }
    
    /* Reset Active state header styles if any leaked? 
       Actually active state is toggled by JS, typically on mobile.
       We should ensure desktop look is correct even if class is there? 
       Or assume JS handles it.
    */
    
    header.navigation-header {
       position: sticky;
       /* Reset other mobile fixed props if needed */
       height: auto;
       overflow-y: visible;
       background-color: transparent;
    }
    
    header.navigation-header.active {
       position: sticky;
       height: auto;
       overflow-y: visible;
       background-color: transparent;
    }

    .mobile-menu-title {
        display: none; 
    }

    li.navigation-item .expand-button {
        display: none;
    }

    #home {
        grid-column: 1 / span 2;
        grid-row: auto;
    }

    #physical-variables {
        grid-column: 3 / span 2;
        grid-row: auto;
        display: block !important; /* Override mobile display:none */
    }

    #thesis {
        grid-column: 5;
        grid-row: auto;
        justify-content: flex-end;
        display: block !important; /* Override mobile display:none */
    }

    .impressum {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 16px;
    }
    
    .impressum .author {
        grid-column: 1;
    }

    .impressum .supervisors {
        grid-column: 2;
        display: flex;
        flex-direction: column;
    }

    .impressum .uni-wrapper {
        grid-column: 3 / span 2;
        display: flex;
        flex-direction: column;
    }

    .impressum .year {
        grid-column: 5;
    }
    
    header.navigation-header .impressum {
        display: none !important; /* Keep hidden in header on desktop */
    }

    .text-menu-special.mobile {
        display: none;
    }

    .text-menu-special.desktop {
        display: contents;
    }
    
    .blur-text li.navigation-item:not(#home) a.text-menu-special {
        filter: blur(2px);
    }

    .blur-text li.navigation-item:not(#home) a.text-menu-special:hover {
        filter: blur(0);
    }
}
